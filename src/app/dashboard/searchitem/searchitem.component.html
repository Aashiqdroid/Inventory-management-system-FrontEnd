<form (ngSubmit)="fetchItems()" #regForm="ngForm">
  <div class="formFields">
    <div>
      <mat-form-field appearance="standard">
        <mat-label>Product name</mat-label>
        <input
          matInput placeholder="Product"
          type="text" [(ngModel)]="item.itemName" id="itemName0" name="itemName"/>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field appearance="standard">
        <mat-label>Product Brand</mat-label>
        <input
          matInput placeholder="Item Brand"
          type="text" [(ngModel)]="item.itemBrand" id="itemBrand" name="itemBrand"/>
      </mat-form-field>
    </div>

    <button id="regButton" mat-raised-button color="primary"
            type="submit"

    >Find
    </button>
    <a routerLink="/dashboard">
      <button id="regButton1" mat-raised-button color="warn" class="btn btn-primary">Cancel</button>
    </a>


  </div>
</form>

<div>
  <table id="table" *ngIf="isFound" class="mat-elevation-z8" mat-table matSort [dataSource]="dataSource">
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="">ID</th>
      <td mat-cell *matCellDef="let row">{{row.id}}</td>
    </ng-container>
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="">Name</th>
      <td mat-cell *matCellDef="let row">{{row.itemName}}</td>
    </ng-container>
    <ng-container matColumnDef="type">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="">Type</th>
      <td mat-cell *matCellDef="let row">{{row.type}}</td>
    </ng-container>
    <ng-container matColumnDef="brand">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="">Brand</th>
      <td mat-cell *matCellDef="let row">{{row.itemBrand}}</td>
    </ng-container>
    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="">Price</th>
      <td mat-cell *matCellDef="let row">{{row.price}}</td>
    </ng-container>
    <ng-container matColumnDef="expiry">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="">Expiry</th>
      <td mat-cell *matCellDef="let row">{{row.expiryDate}}</td>
    </ng-container>

    <ng-container matColumnDef="delete">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="">Delete</th>
      <td mat-cell *matCellDef="let row">
        <button style="margin: 5px" mat-raised-button color="warn" (click)="deleteItems(row)">Delete</button>
      </td>
    </ng-container>

    <ng-container matColumnDef="edit">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="">Edit</th>
      <td mat-cell *matCellDef="let row">
        <button style="margin: 5px" mat-raised-button color="primary" type="button" (click)="editItems(row)"
                data-toggle="modal" data-target="#exampleModal">Edit
        </button>
      </td>
    </ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedColumn"></tr>
    <tr mat-row *matRowDef="let row; columns:displayedColumn"></tr>
  </table>
  <mat-paginator style="margin-right: 165px" [pageSizeOptions]="[5,10,25,100]"
                 aria-label="Select page of users">
  </mat-paginator>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLable">Update item</h5>
        <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <form #updateForm="ngForm"  (ngSubmit)="update()">

          <div>
            <mat-form-field appearance="standard">
              <mat-label>Product ID</mat-label>
              <input
                matInput placeholder="Product"
                type="text" disabled #id [(ngModel)]="itemToUpdate.id" id="id" name="id"/>
            </mat-form-field>
          </div>

          <div>
            <mat-form-field appearance="standard">
              <mat-label>Product name</mat-label>
              <input
                matInput placeholder="Product"
                type="text" #name [(ngModel)]="itemToUpdate.itemName" id="itemName" name="itemName"/>
            </mat-form-field>
          </div>

          <div>
            <mat-form-field appearance="standard">
              <mat-label>Item type</mat-label>
              <input
                matInput placeholder="Item type"
                type="text" #type [(ngModel)]="itemToUpdate.type" id="itemType" name="itemType"/>
            </mat-form-field>
          </div>

          <div>
            <mat-form-field appearance="standard">
              <mat-label>Price</mat-label>
              <input
                matInput placeholder="Price"
                type="text" #price [(ngModel)]="itemToUpdate.price" id="price" name="price"/>
            </mat-form-field>
          </div>

          <button style="margin-top: 12px" (click)="update()" id="regButton0" mat-raised-button color="primary"
                  type="submit"
                  class="btn-close" data-dismiss="modal" aria-label="Close">Update
          </button>


        </form>

      </div>

    </div>
  </div>
</div>


